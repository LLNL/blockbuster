CHANGELOG FOR BLOCKBUSTER
For outstanding bugs, as always, please look at https://sourceforge.net/projects/blockbuster/.  To report blockbuster bugs, you can go to the sourceforge website or send email to rcook@llnl.gov.  

===============================================================================
VERSION 2.8.0k (r1005) Thu Sep 26 17:48:05 PDT 2013
-- fix bug sm2mpg that prevented valid movies from being processed
-- allow user to specify that a movie is stereo even if stereo flag is not set

===============================================================================
VERSION 2.8.0j (r987) Wed Sep 18 15:40:09 PDT 2013
-- support builds of boost on machines where needed
-- establish "reserved tags" that always match for every movie, corresponding to metadata output from sminfo.  See smquery --reserved-tag-list for details.

===============================================================================
VERSION 2.8.0i (r987) Wed Sep 18 15:40:09 PDT 2013
-- Changed sm2mpg and sm2qt args with identical meanings to match each other. 
-- Fixed builds on older machines.
-- Fixed bug playing stereo movies with -no-stereo-switch flag.

===============================================================================
VERSION 2.8.0h (r984) Fri Sep 13 11:45:03 PDT 2013
-- Fix sm2mpg and sm2qt scripts to work properly

===============================================================================
VERSION 2.8.0g (r973) Mon Sep  9 14:35:36 PDT 2013
-- Fix format detection code in img2sm to correctly capture input file types. 

===============================================================================
VERSION 2.8.0f (r968) Fri Sep  6 14:08:34 PDT 2013
-- change "H" to "M" to hide mouse in sidecar to match blockbuster behavior

===============================================================================
VERSION 2.8.0e (r964) Wed Sep  4 14:24:54 PDT 2013
-- fix segfault in img2sm

===============================================================================
VERSION 2.8.0d (r957) Fri Aug 30 17:53:35 PDT 2013
-- img2sm: Give better error message when a frame has a different size than other frames
-- img2sm: Search for the first 100 possible files in a sequence, rather than assuming file number is 0.  (This was the old behavior)

===============================================================================
VERSION 2.8.0c (r950) Wed Aug 14 16:05:09 PDT 2013
-- blockbuster is now fully scriptable
-- improved unit tests to guarantee sm2img and smtag do not harm movies

===============================================================================
VERSION 2.8.0b (r926) Thu Aug  8 12:16:57 PDT 2013
-- bugfix release

===============================================================================
VERSION 2.8.0a (r886) Tue Jul 16 14:25:59 PDT 2013
-- Added metadata support to smtools and blockbuster. 
-- Lorenz movie browser format (JSON) is supported
-- Added LZMA compression option for movies.  
-- Build is now more parallel.     
-- Input and output files for sm2img and img2sm are now recognized by extension when possible, or defaults to PNG -- don't need -form argument for most cases.
-- Improved unit tests
-- Changed the way smtools parse arguments.

===============================================================================
VERSION 2.7.3d (r747) Mon Jun 10 14:28:11 PDT 2013
-- Fixed a crashing bug in handling version 1 movies.  

===============================================================================
VERSION 2.7.3c (r683) Fri Jul 20 16:21:34 PDT 2012
-- Fix a segfault in settings.
-- improve packaging mechanism for distribution
-- Suppress a warning dialog about threads and make it go to stderr instead. 

===============================================================================
VERSION 2.7.3b (r665) Mon Jul  2 09:32:40 PDT 2012
-- Allow whitespace in "blockbuster path" in sidecar's "blockbuster launch" dialog, thus enabling special args to be saved as needed
-- sminfo now reports exact bytes compressed and uncompressed
-- use two less than the number of processors for threads by default.  Also preload 100 frames by default. 

===============================================================================
VERSION 2.7.3a (r642) Tue Jun  5 14:27:58 PDT 2012
-- Fixed a long standing blockbuster bug that limited multithreaded performance
-- Use 4 threads by default is number of processors supports it. 
  
===============================================================================
VERSION 2.7.2b (r581) Fri Feb 10 15:12:27 PST 2012
-- Fixed a bug in img2sm when creating multires SM files.   

===============================================================================
VERSION 2.7.2 (r561) Fri Oct 28 15:25:11 PDT 2011
-- Fixed nonoperative "stereo" checkbox in sidecar's Blockbuster Remote Control GUI.  
-- Fixed crashing bug in opening new second movie while first is running.  
-- Blockbuster is now available as a binary release for certain platforms. 
-- Restore ability to compile without DMX and MPI to allow binary releases on non-MPI linuxes.
-- A minimal set of needed Qt libraries are now packaged in with the installation, so dependency on huge external Qt library collections are eliminated. 

===============================================================================
VERSION 2.7.1c (r532) Thu Sep 29 16:06:14 PDT 2011
-- Bugfix:  Rendering in stereo when using DMX was broken since the auto-detect feature was added in version 2.6.3n.  It now works. 

===============================================================================
VERSION 2.7.1b (r528) Mon Sep 26 18:45:19 PDT 2011
-- Added "noscreensaver" option to sidecar GUI and blockbuster command line/environment parser, which generates a fake mouse click every 90 seconds to prevent screensavers from activating.
-- Throttle back CPU usage when blockbuster is idle. 
-- Fixed a bug when blockbuster cannot connect to sidecar -- it could not be killed because mrsh does not kill its child when it dies.  So now blockbuster commits suicide if it cannot find sidecar when launched with -sidecar flag. 

===============================================================================
VERSION 2.7.1a (r510) Tue Jul 12 16:59:29 PDT 2011
-- fixed a bug preventing slaves from communicating errors to frontend.  Errors on backends are now much clearer and easier to understand.  
-- Include more information from the launch dialog in the host profile to reduce clicks.  
-- Fixed crashing bug in img2sm and fixed the -ignore flag so you can make a movie out of a single file.
-- Added -profile option and SIDECAR_DEFAULT_PROFILE to allow user and site admin (me) to set the default profile to use on startup.  
-- Remember the last profile a user used and use it for the next launch.  NOTE:  This preference only persists for the next sidecar session if not overridden by SIDECAR_DEFAULT_PROFILE or -profile options.  

===============================================================================
VERSION 2.7.0b (r492) Mon Jun 27 18:07:09 PDT 2011
-- Fixed a sidecar crash when no host profiles are found at startup'
-- Fixed a miscreant blockbuster error in parsing args when run under sidecar

===============================================================================
VERSION 2.7.0a (r476) Fri Jun 10 14:26:43 PDT 2011
-- If no files are given on the command line, blockbuster now opens a file dialog
-- Allow the user to set the local hostname manually, so blockbuster can find sidecar when the localhost name differs from its external network name. 
-- If a DMX slave cannot find a file on the remote host, try to handle it better.  

===============================================================================
VERSION 2.6.3o (r467) Fri Jun  3 18:21:13 PDT 2011
-- sidecar now announces its version
-- fixed a segfault in sidecar that happened when blockbuster disappeared unexpectedly
-- made managing host profiles more intuitive in sidecar
-- improved sorting of sidecar host profiles 
-- fixed a bug in movie lists and enabled deleting of movies from the list
-- Handle crashing and misbehaving blockbuster processes much better, i.e., without crashing.  

===============================================================================
VERSION 2.6.3n (r458) Wed Jun  1 11:34:52 PDT 2011
-- opening a stereo movie now enables stereo mode automatically, unless -no-stereo-switch is given on the command line

===============================================================================
VERSION 2.6.3m (r453) Tue May 31 17:16:36 PDT 2011
-- report versions from smtools now
-- fixed "trying to preload non-existent frame" error with short movies

===============================================================================
VERSION 2.6.3l (r441) Wed May 18 10:32:49 PDT 2011
-- changed smlib to support independent compression and I/O for performance
-- smcat, img2sm and sm2img are now much faster with multithreading.  Basically, you are bound by I/O performance, RAM, and number of cores now, not bad code.
-- sminfo now accepts multiple filenames

===============================================================================
VERSION 2.6.3k (r424) Wed May  4 13:59:13 PDT 2011
-- smcat now is threaded.  Still maximum throughput not attained since I/O is combined with compression inappropriately, but it's a great improvement. 
-- implemented host profiles in sidecar launch dialogs, so that you don't have to always reenter the information. 

===============================================================================VERSION 2.6.3j (r404)
-- In blockbuster, always swap buffers in display loop.  This eliminates black frames at start of movie.  
-- Fix some oddities when zooming and resizing in blockbuster. 
-- img2sm and sm2img now properly use pthreads. Result is a respectable speedup on systems with good I/O. 
 
===============================================================================VERSION 2.6.3i (r368)
-- Set DISPLAY to :0 when launching a remote blockbuster.
-- Allow blockbuster to switch to and from stereo mode in mid-movie
-- Set default cue LOD to 0 instead of 1 

================================================================================
VERSION 2.6.3h (r363)
- Fixed stereo rendering on powerwall

================================================================================
VERSION 2.6.3g
-- fixed bug in getting number of CPUs on OS X
-- fixed bug in display for OS X

================================================================================
VERSION 2.6.3f
October 15, 2010
-- fixes bug in the -display bugfix from 2.6.3d  that caused unresponsive mouse and keyboard among other issues

================================================================================
VERSION 2.6.3d
October 4, 2010
-- fixed bug where -display flag is not passed on to X11 render context, breaking display on beast
-- fixed segfault in blockbuster when -sidecar flag is given.
-- fixed segfault in smtest when no args are given
-- Use tiling by default in img2sm and smcat
-- fixed segfault in img2sm when JPEG or PNGs are being converted to a movie, the -first flag is used, and the user makes a typo specifying the file locations. 


================================================================================
VERSION 2.6.3c
September 24, 2009
-- (r245) by not invalidating cache members so aggressively, got nice responsiveness increase.  This warrants its own release. 

================================================================================
VERSION 2.6.3b
September 22, 2009
-- fixed a regression preventing stereo movies from being stereo
-- reduced Qt widget recursion
-- fixed a couple of bugs in the cache.  One caused crashes when frames were deleted improperly, and one caused hangs when the cache filled with frames that should be deleted.

================================================================================
VERSION 2.6.3a
June 29, 2009
-- Rewrote smlib to remove ALL mutexes and Direct IO technology references. 
-- Fixed a bug causing cache frames to be invalidated inappropriately, so causing very slow playback.  
-- fixed LOD bug allowing level of detail to go negative
-- fixed a bug that caused blockbuster to play past the EndFrame in a cue for very short play times. 
-- fixed a bug that caused blockbuster to start on frame 2 of a movie given on the command line
-- hopefully fixed a bug causing the spacebar to not stop a movie promptly 
-- fixed bugs dealing with low frame rates in blockbuster and sidecar.  Now values less than 0.2 are not accepted.  I can imagine for a kiosk you might want slower rates, so add a feature request for "kiosk mode" allowing one frame every n seconds instead of a n frames per second... perhaps some clever notation would work.  
-- fixed a bug causing blockbuster to incorrectly respond to frame numbers in cues and the frame slider in certain instances
-- re-added movie title to blockbuster title bars, lost when the change to Qt occurred.  
-- fixed a problem where sidecar would not exit after playing a movie 
-- fixed a but in cue playback preventing blockbuster from stopping a cue while looping
-- fixed a bug causing a cue to not execute properly if its end frame was 0 and the preceding cue's movie executed past the number of frames than in the current cue's movie (really!)

================================================================================
VERSION 2.6.2a
June 8, 2009
-- DRAMATIC speed increase due to improved network performance and better threading code.  A test movie that was limited to 13 frames per sec is now playing at over 100 FPS. 
-- Switched code repository from CVS to Subversion.  
-- using lzolib 2.03 now to build on new Darwin 9.7.0 kernels (OS X)
-- now add $INSTALL_DIR/lib to rpath, meaning that Qt libs can be shipped with blockbuster for binary releases, greatly reducing difficulty in distributing the code.  This is not done on OS X yet as it broke the build there. 
-- Fixed bug when duplicating cues in sidecar. 
-- Fixed bug setting frame rate in cues.
-- Enabled setting level of detail in movie cues. 
-- Escape key now exits blockbuster, just like the good old days.  'q' still works too!  In sidecar, this has to be shift-Escape because of interface collisions. 
-- Fixed some problems with looping and executing cue sequences. 

================================================================================
VERSION 2.6.1a
May 2009
-- User can now execute and loop over multiple cues in the cue list.  Each cue will execute to its end frame and then the next will execute.  Interrupting the movie also interrupts the cue stack.  
-- Frame Rate stuff:  move FPS back to main control window,  correctly report frame rate setting in GUI at startup, and respect any FPS value in the movie
-- Remove references to "frame" position in GUI and replace it with "Window" for clarity.  

================================================================================
VERSION 2.6.0b
Apr 9, 2009
-- fixed bugs in 2.6.0a
-- now blockbuster randomizes its port to prevent conflicts with other blockbusters and with sidecar
-- debugging and testing is a bit easier

================================================================================
VERSION 2.6.0a
Nov 26, 2008
-- changed blockbuster user interface to Qt from GTK
-- added a -help option to sidecar
-- added -keyhelp option for sidecar and blockbuster, for getting help with keyboard controls
-- added ability to start a movie on a remote host from the sidecar command line, and begin playing it immediately (-play and -movie options)
-- simplified the access to stereo.  Simply typing -stereo will use stereo on the back end if you are using DMX and will use stereo on the front end if not.  
-- worked around an apparent Qt bug where old events are spontaneously reappearing from the network completely out of sequence
-- Added dialogs to prompt user to save unsaved changes if windows close or application is quit while working. 
-- Fixed bug that caused interface to be disabled after deleting a cue. 
-- Added ability to save the current frame as a PNG file. 
-- Added ability to hide the cursor
-- Blockbuster now prompts to accept incoming sidecar connections to prevent hijacking by an intruder. 
-- Simplified underlying communication protocol to allow more flexibility in the future. 
-- Added a history to the movie paths field in sidecar. 
-- Various bugfixes.

================================================================================
VERSION 2.5.6a
Oct 17, 2008
-- Broke out the Cue Manger and Movie Info interfaces as separate windows to use the screen space better.  
-- Double clicking on a cue now executes that cue. 
-- Added tool tips to Movie Cue Manger interface. 
-- Sidecar now notices when user quits a connected blockbuster without doing it through sidecar. 
-- Added "Current Frame" field in cues to enable going directly to a frame, reducing flicker on new cue loads
-- Improved error reporting and handling between sidecar and blockbuster, so that for example if a file cannot be found, sidecar reports that error, and not something else it makes up out of frustration
-- Implemented the items in the sidecar File menu
-- Cues now default to full screen to reflect most common current use case

================================================================================
VERSION 2.5.5g
Sep 4, 2008
-- added -stereo and -dmxstereo flags to blockbuster
-- hide the toolbox on slave nodes. 
-- add -dmx and -movie flags to sidecar
-- fix issues of communication and feedback between blockbuster and sidecar GUIs where changes in one were not clearly reflected or even canceled out by another, especially when playing movies. 
-- add the ability to reset start and end frames in a movie cue to reflect movie length, which was a problem before when you had set the end frame and wanted to change it to something bigger.
-- sidecar interface is a bit smaller
-- added a "pingpong" feature in blockbuster and sidecar that allows movie to play alternately back and forth forever.  This is useful in presenting some scientific simulations. 
-- zoom to 100% now also resizes the window to fit the image

================================================================================
VERSION 2.5.5f
August 11, 2008
-- bugfix release

================================================================================
VERSION 2.5.5e
July 24, 2008
-- Added omplete remote control of blockbuster with apparently no hit on performance and excellent user feedback.  
-- Allow capture of start and end frame from blockbuster current frame by clicking "Start Frame" or "End Frame" button
-- fix a few interface bugs in blockbuster and sidecar

================================================================================
VERSION 2.5.5d
July 9, 2008
-- sidecar can now take a "snapshot" of the current blockbuster state and place the information into the current cue.  So designing a presentation just got easier. Put your movie in the desired state, take a snapshot, then fiddle with details as desired.  Rinse and repeat.  
-- Added zoom field to sidecar cues. 
-- Support a need at ORNL to have idle slaves on some nodes.  So if a slave connects to blockbuster and there is no DMX window for it, the slave is put into "idle mode", where it basically just waits for an exit command, responds to "heartbeats", and doesn't do much else.  
-- Added repeatable test procedure in doc/Testing.txt to ensure more reliable deployments.  

================================================================================
VERSION 2.5.5c
July 2, 2008
-- blockbuster now connects back to sidecar on launch or connections, allowing sidecar to know that blockbuster is alive, and allowing future communications such as current frame, fps, etc from blockbuster to user in sidecar

================================================================================
VERSION 2.5.5b
July 1, 2008 
-- sidecar can now exit blockbuster automatically and reliably
-- fixed various bugs relating to launch feature
-- various interface bugfixes and improvements


================================================================================
VERSION 2.5.5a
June 24, 2008 
-- user can now control blockbuster with keystrokes like space bar from sidecar without interacting with blockbuster
-- sidecar now knows how to launch blockbuster in both DMX and non-DMX modes

================================================================================
VERSION 2.5.4a
June 19, 2008
-- Blockbuster no longer hangs when sidecar sends it cues in rapid succession
-- A stable release which supports MPI framesync seems worthy of a numerical change.  
-- new file format: cuefiles are now human readable and editable and more robust
-- socket communications are now simpler
-- user can set image position on canvas using sidecar

================================================================================
VERSION 2.5.3f
May 16, 2008
-- Sidecar correctly saves and loads cuefiles now.  
-- Blockbuster no longer appears to crash when sidecar executes a cue.  
-- slaves launched without the -mpi batch flag no longer try to use MPI, which resulted in an error.  

================================================================================
VERSION 2.5.3e
March 5, 2008

-- MPI framesync now works!  It's so smooth, it's like buttah. 
-- Slaves no longer get left around if blockbuster is killed with control-C or otherwise exits ungracefully.  


================================================================================
VERSION 2.5.3d
Feb 11, 2008
--------------------------------------------------------------------------------
-- implemented "talkback" channel from slaves to masters as a platform for error handling in the future
-- fixed crash when viewing movies greater than 4GB
-- improved frame synchronization to ensure that no slave swaps buffers before all have finished the previous frame.  Still not good enough, but better than it was. 
-- Added LLNL auspices and disclaimer to sidecar code.
-- fixed crashing bugs when no file is selected at program start
-- added support for gprof and gcov.  Use GPROF=TRUE make to enable.  Might have to make clean in src/blockbuster to pick up the changes to makefiles. 
================================================================================
VERSION 2.5.3
Aug 30, 2007
--------------------------------------------------------------------------------
Now include mpeg from Stanford to enable sm2mpg script. 
Updated changelog with proper dates. 

================================================================================
VERSION 2.5.2b
July 27, 2007
--------------------------------------------------------------------------------
Fixed the following urgent bugs: 
	  -- Blockbuster converts movie file names to full paths before processing. 
	  This prevents the backend nodes from getting confused by relative paths. 

================================================================================
VERSION 2.5.2
July 26, 2007
--------------------------------------------------------------------------------
Fixed the following bugs: 
	  -- Blockbuster was crashing in DMX mode.  Found an uninitialized struct in 
	  some old code and fixed it.  
	  -- fixed options parsing bug
	  -- error checking was improved some in certain areas of the code

================================================================================
VERSION 2.5.1
July 23, 2007
--------------------------------------------------------------------------------
Fixed the following bugs: 
	-- Sidecar remote "hide blockbuster controls" capability works now
    -- Looping specified from the command line now works correctly
    -- When "loop" is remotely specified, blockbuster now updates GUI correctly
	-- When starting a movie with a window larger than the movie, blockbuster
	   now stretches the movie to fit the window.  

================================================================================
VERSION 2.5.0
June 13, 2007
--------------------------------------------------------------------------------
NEW FEATURES:
	-- allow user to load cue file on the command line DONE 5/17/07
	-- allow sizing of movie width and height to powerwalls DONE 5/18/07
	-- add window positioning via Sidecar by calling ÒgtkMove()Ó DONE on 5/20/07
	-- add loop over frame range DONE 5/18/07
	-- Created Sidecar!  Allows cueing of movie events, remote command execution
	-- turn off error notifications  (FIXED 5/21/07) 
	-- need to report version from blockbuster with -v DONE 6/11/07
	-- start versioning to track changes DONE 6/11/07
	-- get blockbuster building in Qt style  DONE
	-- command language over TCP sockets, and Qt based "remote control" utility, 
			   which will become SideCar
		-- make blockbuster listen for commands and respond 
		-- create Sidecar as a Qt application with Connect, Play, and Disconnect 

------------------------------------------------------------------------------
BUGFIXES:
	-- Blockbuster crashes gtk+ conflicts with Qt 4.2.3's glib have to use 
				   QT_NO_GLIB or you get segfault FIXED 6/7/07
	-- Sidecar window now properly resizing after removing widgets
	-- If a movie longer than the ensuing movie is played, now correctly handle 
	   ending frame number.
 	-- repositioning now works correctly in cues
	-- if new movie is loaded when using -r dmx -D, movie now takes whole screen
	-- if Load Movie is not checked, Sidecar no longer sends "load movie"cue
	-- "Delete cue" now prompts "are you sure?"	
	-- when reloading cues from a file, the checkbox for "load movie" now gets 
		checked properly  
	-- BB now auto-loops 
	-- BB improperly no longer improperly exits after n loops 
	-- Looping a single time with -L 1 now works properly.
	-- framerate set on command line is no longer ignored

--------------------------------------------------------------------------------
OTHER:
	-- break out blockbuster from ascivis_source DONE 6/5/07  
	-- create changelog DONE 6/13/07
